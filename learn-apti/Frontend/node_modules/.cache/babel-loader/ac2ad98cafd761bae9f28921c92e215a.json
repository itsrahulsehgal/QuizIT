{"ast":null,"code":"var _jsxFileName = \"/home/rahul/Desktop/learn_apti-frontend/Frontend/src/pages/Test.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useNavigate } from 'react-router-dom';\n// material\nimport { Stack, Container, Typography, Paper } from '@material-ui/core';\n// components\nimport Page from '../components/Page';\nimport TestForm from '../components/test/TestForm';\nimport CountdownTimer from '../components/test/Timer';\nimport AlertDialog from '../components/test/AlertDialog';\nimport { parseURLParams } from '../utils/parseUrlParams';\nimport { startTest, submitTest } from '../actions/test';\n\n// ----------------------------------------------------------------------\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Test(_ref) {\n  _s();\n  let {\n    classroom: {\n      currTest\n    },\n    startTest,\n    submitTest\n  } = _ref;\n  const {\n    test\n  } = parseURLParams(String(window.location));\n  const navigate = useNavigate();\n  const [Focus, setFocus] = useState(true);\n  const [Count, setCount] = useState(0);\n  const [timer, setTimer] = useState([]);\n  useEffect(() => {\n    if (currTest === null) startTest(test);\n  }, [currTest, startTest, test]);\n  useEffect(() => {\n    const handleActivityFalse = () => {\n      setFocus(false);\n    };\n    window.addEventListener('blur', handleActivityFalse);\n    return () => {\n      window.removeEventListener('blur', handleActivityFalse);\n    };\n  }, []);\n  if (currTest === null) {\n    return null;\n  }\n  const {\n    duration\n  } = currTest;\n  if (timer.length === 0) {\n    setTimer([parseInt(duration.hrs, 10), parseInt(duration.min, 10), 0]);\n  }\n  if (timer[0] === 0 && timer[1] === 0 && timer[2] === 0 && Count < 2) {\n    setCount(2);\n    window.alert('Time Up !!!');\n  }\n  const handleSubmit = values => {\n    submitTest(test, values);\n    navigate('/dashboard');\n  };\n  return /*#__PURE__*/_jsxDEV(Page, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      component: Paper,\n      elevation: 5,\n      maxWidth: \"md\",\n      style: {\n        padding: '2.5%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        justifyContent: \"space-between\",\n        mb: 5,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: [\"Test : \", currTest.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CountdownTimer, {\n          timer: timer,\n          setTimer: setTimer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(TestForm, {\n          data: currTest.data,\n          count: Count,\n          handleSubmit: handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), !Focus ? /*#__PURE__*/_jsxDEV(AlertDialog, {\n      count: Count,\n      setCount: setCount,\n      setFocus: setFocus,\n      children: Count === 1 ? 'You did it again, your test is going to submit.' : 'This is detected that you moved away form the test. Repeating this action will submitthe test automatically.'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Test, \"MUbscWB5Mfn+kCb8gIogZYJP6Dk=\", false, function () {\n  return [useNavigate];\n});\n_c = Test;\nTest.propTypes = {\n  classroom: PropTypes.object.isRequired,\n  startTest: PropTypes.func.isRequired,\n  submitTest: PropTypes.func.isRequired\n};\nconst matchStateToProps = state => ({\n  classroom: state.classroom\n});\nexport default connect(matchStateToProps, {\n  startTest,\n  submitTest\n})(Test);\nvar _c;\n$RefreshReg$(_c, \"Test\");","map":{"version":3,"names":["useState","useEffect","connect","PropTypes","useNavigate","Stack","Container","Typography","Paper","Page","TestForm","CountdownTimer","AlertDialog","parseURLParams","startTest","submitTest","jsxDEV","_jsxDEV","Test","_ref","_s","classroom","currTest","test","String","window","location","navigate","Focus","setFocus","Count","setCount","timer","setTimer","handleActivityFalse","addEventListener","removeEventListener","duration","length","parseInt","hrs","min","alert","handleSubmit","values","children","component","elevation","maxWidth","style","padding","direction","justifyContent","mb","variant","gutterBottom","name","fileName","_jsxFileName","lineNumber","columnNumber","data","count","_c","propTypes","object","isRequired","func","matchStateToProps","state","$RefreshReg$"],"sources":["/home/rahul/Desktop/learn_apti-frontend/Frontend/src/pages/Test.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useNavigate } from 'react-router-dom';\n// material\nimport { Stack, Container, Typography, Paper } from '@material-ui/core';\n// components\nimport Page from '../components/Page';\nimport TestForm from '../components/test/TestForm';\nimport CountdownTimer from '../components/test/Timer';\nimport AlertDialog from '../components/test/AlertDialog';\nimport { parseURLParams } from '../utils/parseUrlParams';\nimport { startTest, submitTest } from '../actions/test';\n\n// ----------------------------------------------------------------------\n\nfunction Test({ classroom: { currTest }, startTest, submitTest }) {\n  const { test } = parseURLParams(String(window.location));\n  const navigate = useNavigate();\n  const [Focus, setFocus] = useState(true);\n  const [Count, setCount] = useState(0);\n  const [timer, setTimer] = useState([]);\n  useEffect(() => {\n    if (currTest === null) startTest(test);\n  }, [currTest, startTest, test]);\n  useEffect(() => {\n    const handleActivityFalse = () => {\n      setFocus(false);\n    };\n    window.addEventListener('blur', handleActivityFalse);\n    return () => {\n      window.removeEventListener('blur', handleActivityFalse);\n    };\n  }, []);\n\n  if (currTest === null) {\n    return null;\n  }\n  const { duration } = currTest;\n  if (timer.length === 0) {\n    setTimer([parseInt(duration.hrs, 10), parseInt(duration.min, 10), 0]);\n  }\n  if (timer[0] === 0 && timer[1] === 0 && timer[2] === 0 && Count < 2) {\n    setCount(2);\n    window.alert('Time Up !!!');\n  }\n\n  const handleSubmit = (values) => {\n    submitTest(test, values);\n    navigate('/dashboard');\n  };\n\n  return (\n    <Page>\n      <Container component={Paper} elevation={5} maxWidth=\"md\" style={{ padding: '2.5%' }}>\n        <Stack direction=\"row\" justifyContent=\"space-between\" mb={5}>\n          <Typography variant=\"h4\" gutterBottom>\n            Test : {currTest.name}\n          </Typography>\n          <CountdownTimer timer={timer} setTimer={setTimer} />\n        </Stack>\n        <Container>\n          <TestForm data={currTest.data} count={Count} handleSubmit={handleSubmit} />\n        </Container>\n      </Container>\n      {!Focus ? (\n        <AlertDialog count={Count} setCount={setCount} setFocus={setFocus}>\n          {Count === 1\n            ? 'You did it again, your test is going to submit.'\n            : 'This is detected that you moved away form the test. Repeating this action will submitthe test automatically.'}\n        </AlertDialog>\n      ) : null}\n    </Page>\n  );\n}\n\nTest.propTypes = {\n  classroom: PropTypes.object.isRequired,\n  startTest: PropTypes.func.isRequired,\n  submitTest: PropTypes.func.isRequired\n};\n\nconst matchStateToProps = (state) => ({\n  classroom: state.classroom\n});\n\nexport default connect(matchStateToProps, { startTest, submitTest })(Test);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}