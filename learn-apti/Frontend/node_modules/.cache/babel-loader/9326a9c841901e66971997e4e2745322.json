{"ast":null,"code":"var _jsxFileName = \"/home/rahul/Desktop/Manthan/client/src/pages/Test.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useNavigate } from 'react-router-dom'; // material\n\nimport { Stack, Container, Typography, Paper } from '@material-ui/core'; // components\n\nimport Page from '../components/Page';\nimport TestForm from '../components/test/TestForm';\nimport CountdownTimer from '../components/test/Timer';\nimport AlertDialog from '../components/test/AlertDialog';\nimport { parseURLParams } from '../utils/parseUrlParams';\nimport { startTest, submitTest } from '../actions/test'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Test({\n  classroom: {\n    currTest\n  },\n  startTest,\n  submitTest\n}) {\n  _s();\n\n  const {\n    test\n  } = parseURLParams(String(window.location));\n  const navigate = useNavigate();\n  const [Focus, setFocus] = useState(true);\n  const [Count, setCount] = useState(0);\n  const [timer, setTimer] = useState([]);\n  useEffect(() => {\n    if (currTest === null) startTest(test);\n  }, [currTest, startTest, test]);\n  useEffect(() => {\n    const handleActivityFalse = () => {\n      setFocus(false);\n    };\n\n    window.addEventListener('blur', handleActivityFalse);\n    return () => {\n      window.removeEventListener('blur', handleActivityFalse);\n    };\n  }, []);\n\n  if (currTest === null) {\n    return null;\n  }\n\n  const {\n    duration\n  } = currTest;\n\n  if (timer.length === 0) {\n    setTimer([parseInt(duration.hrs, 10), parseInt(duration.min, 10), 0]);\n  }\n\n  if (timer[0] === 0 && timer[1] === 0 && timer[2] === 0 && Count < 2) {\n    setCount(2);\n    window.alert('Time Up !!!');\n  }\n\n  const handleSubmit = values => {\n    submitTest(test, values);\n    navigate('/dashboard');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Page, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      component: Paper,\n      elevation: 5,\n      maxWidth: \"md\",\n      style: {\n        padding: '2.5%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        justifyContent: \"space-between\",\n        mb: 5,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: [\"Test : \", currTest.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CountdownTimer, {\n          timer: timer,\n          setTimer: setTimer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(TestForm, {\n          data: currTest.data,\n          count: Count,\n          handleSubmit: handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), !Focus ? /*#__PURE__*/_jsxDEV(AlertDialog, {\n      count: Count,\n      setCount: setCount,\n      setFocus: setFocus,\n      children: Count === 1 ? 'You did it again, your test is going to submit.' : 'This is detected that you moved away form the test. Repeating this action will submitthe test automatically.'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Test, \"MUbscWB5Mfn+kCb8gIogZYJP6Dk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Test;\nTest.propTypes = {\n  classroom: PropTypes.object.isRequired,\n  startTest: PropTypes.func.isRequired,\n  submitTest: PropTypes.func.isRequired\n};\n\nconst matchStateToProps = state => ({\n  classroom: state.classroom\n});\n\nexport default connect(matchStateToProps, {\n  startTest,\n  submitTest\n})(Test);\n\nvar _c;\n\n$RefreshReg$(_c, \"Test\");","map":{"version":3,"sources":["/home/rahul/Desktop/Manthan/client/src/pages/Test.js"],"names":["useState","useEffect","connect","PropTypes","useNavigate","Stack","Container","Typography","Paper","Page","TestForm","CountdownTimer","AlertDialog","parseURLParams","startTest","submitTest","Test","classroom","currTest","test","String","window","location","navigate","Focus","setFocus","Count","setCount","timer","setTimer","handleActivityFalse","addEventListener","removeEventListener","duration","length","parseInt","hrs","min","alert","handleSubmit","values","padding","name","data","propTypes","object","isRequired","func","matchStateToProps","state"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useNavigate } from 'react-router-dom';\n// material\nimport { Stack, Container, Typography, Paper } from '@material-ui/core';\n// components\nimport Page from '../components/Page';\nimport TestForm from '../components/test/TestForm';\nimport CountdownTimer from '../components/test/Timer';\nimport AlertDialog from '../components/test/AlertDialog';\nimport { parseURLParams } from '../utils/parseUrlParams';\nimport { startTest, submitTest } from '../actions/test';\n\n// ----------------------------------------------------------------------\n\nfunction Test({ classroom: { currTest }, startTest, submitTest }) {\n  const { test } = parseURLParams(String(window.location));\n  const navigate = useNavigate();\n  const [Focus, setFocus] = useState(true);\n  const [Count, setCount] = useState(0);\n  const [timer, setTimer] = useState([]);\n  useEffect(() => {\n    if (currTest === null) startTest(test);\n  }, [currTest, startTest, test]);\n  useEffect(() => {\n    const handleActivityFalse = () => {\n      setFocus(false);\n    };\n    window.addEventListener('blur', handleActivityFalse);\n    return () => {\n      window.removeEventListener('blur', handleActivityFalse);\n    };\n  }, []);\n\n  if (currTest === null) {\n    return null;\n  }\n  const { duration } = currTest;\n  if (timer.length === 0) {\n    setTimer([parseInt(duration.hrs, 10), parseInt(duration.min, 10), 0]);\n  }\n  if (timer[0] === 0 && timer[1] === 0 && timer[2] === 0 && Count < 2) {\n    setCount(2);\n    window.alert('Time Up !!!');\n  }\n\n  const handleSubmit = (values) => {\n    submitTest(test, values);\n    navigate('/dashboard');\n  };\n\n  return (\n    <Page>\n      <Container component={Paper} elevation={5} maxWidth=\"md\" style={{ padding: '2.5%' }}>\n        <Stack direction=\"row\" justifyContent=\"space-between\" mb={5}>\n          <Typography variant=\"h4\" gutterBottom>\n            Test : {currTest.name}\n          </Typography>\n          <CountdownTimer timer={timer} setTimer={setTimer} />\n        </Stack>\n        <Container>\n          <TestForm data={currTest.data} count={Count} handleSubmit={handleSubmit} />\n        </Container>\n      </Container>\n      {!Focus ? (\n        <AlertDialog count={Count} setCount={setCount} setFocus={setFocus}>\n          {Count === 1\n            ? 'You did it again, your test is going to submit.'\n            : 'This is detected that you moved away form the test. Repeating this action will submitthe test automatically.'}\n        </AlertDialog>\n      ) : null}\n    </Page>\n  );\n}\n\nTest.propTypes = {\n  classroom: PropTypes.object.isRequired,\n  startTest: PropTypes.func.isRequired,\n  submitTest: PropTypes.func.isRequired\n};\n\nconst matchStateToProps = (state) => ({\n  classroom: state.classroom\n});\n\nexport default connect(matchStateToProps, { startTest, submitTest })(Test);\n"]},"metadata":{},"sourceType":"module"}